- name: Run AI Review with Google Gemini
  run: |
    python - <<'EOF'
    import os
    import google.generativeai as genai

    api_key = os.getenv("GOOGLE_API_KEY")
    genai.configure(api_key=api_key)

    # استخدم موديل Gemini
    model = genai.GenerativeModel("gemini-1.5-flash")

    # مثال بسيط: مراجعة كود
    prompt = """
    راجع الكود التالي وقل لي لو فيه مشاكل:
    ```dart
    void main() {
      print("Hello World");
    }
    ```
    """
    response = model.generate_content(prompt)
    print("AI Review Output:\n", response.text)
    EOF
  env:
    GOOGLE_API_KEY: ${{ secrets.GOOGLE_API_KEY }}
